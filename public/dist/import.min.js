angular.module("importApp",["ngRoute","ngToast","ui.bootstrap","nvd3","angularGrid"]).config(["$routeProvider",function(a){a.when("/main",{templateUrl:"pages/main/main.html",controller:"mainController"}).when("/users",{templateUrl:"pages/users/users.html",controller:"usersController"}).when("/users/:id",{templateUrl:"pages/users/userDetail.html",controller:"userDetailController"}).when("/users/criar",{templateUrl:"pages/users/userDetail.html",controller:"userDetailController"}).when("/login",{templateUrl:"pages/users/login.html"}).otherwise({redirectTo:"/main"})}]).config(["ngToastProvider",function(a){a.configure({verticalPosition:"top",horizontalPosition:"right",maxNumber:3,timeout:2e3,dismissOnTimeout:!0})}]).controller("navController",["$scope",function(a){a.funcao1="Utilizadores",a.funcao2="Backlog",a.funcao3="Recursos",a.funcao4="Projectos"}]),angular.module("importApp").controller("mainController",["$scope",function(a){}]),angular.module("importApp").controller("usersController",["$scope","ngToast","UserServices","$modal",function(a,b,c,d){c.getAllUsers().then(function(b){a.users=b},function(a){});var e=function(b){return c.deleteUser(a.selected._id)},f=function(){var b=a.users.indexOf(a.selected);b>-1&&a.users.splice(b,1)};a.requestDeleteSelected=function(b){a.selected=b;var c=d.open({animation:!0,templateUrl:"/modals/popToConfirm.html",controller:"popToConfirmController",size:"sm",resolve:{texto:function(){return"Deseja apagar este utilizador?"}}});c.result.then(e).then(f)}}]).controller("userDetailController",["$scope","UserServices","$routeParams","$location","ngToast",function(a,b,c,d,e){b.getUserForId(c.id).then(function(b){b?a.userData=b:d.path("/users/")},function(a){}),a.gravar=function(){a.modificarForm.$valid&&b.updateUser(c.id,a.userData).then(function(a){e.create("Gravado com sucesso")},function(a){})}}]),angular.module("importApp").service("ProfileServices",["$http","$q",function(a,b){var c="/api/profile/";this.getAllProfiles=function(){return a.get(c).then(function(a){return a.data})},this.getProfileForId=function(d){return a.get(c+d).then(function(a){return a.data},function(a){b.reject(a.data)})},this.createProfile=function(b){return a.post(c,b,{}).then(function(a){return a.data})},this.updateProfile=function(b,d){return a.put(c+b,d,{}).then(function(a){return a.data})},this.deleteProfile=function(b){return a["delete"](c+b,{}).then(function(a){return b})}}]),angular.module("importApp").service("UserServices",["$http","$q",function(a,b){var c="/api/users/";this.getAllUsers=function(){return a.get(c).then(function(a){return a.data})},this.getUserForId=function(d){return a.get(c+d).then(function(a){return a.data},function(a){b.reject(a.data)})},this.createUser=function(b){return a.post(c,b,{}).then(function(a){return a.data})},this.updateUser=function(b,d){return a.put(c+b,d,{}).then(function(a){return a.data})},this.deleteUser=function(b){return a["delete"](c+b,{}).then(function(a){return b})}}]);